# 机械臂控制模块

## 包含模块

- 机械臂控制驱动（Aubo）
- 夹爪控制驱动（大寰）
- 业务控制节点

## 核心业务逻辑

1. 通过摄像头观察小车原材料位置，确认原材料个数，等待接收上料制作命令

2. 收到上料命令，定位一个原料，夹取到传送带，放料

3. 摄像头观察成品位置，如果发现成品，则定位并将成品码垛到成品区

## 问题及解决

1. 如果已收到上料制作命令，但是发现原材料位置并没有材料，则将命令加入等待队列
2. 夹取原材料到传送到时，可能会和其他原材料碰撞，所以要在放料时可以有视觉确认
3. 根据打标机执行打标后的时间，估算下一个到来的原材料是否已经完成制作
4. 成品区如果没有及时清理，则要根据视觉进行合理的码垛操作



- 启动kinect2节点 C++

    > 发布彩色RGB图像 sensor_msgs/Image
    >
    > 发布深度Depth图像 sensor_msgs/Image
    >
    > 发布点云图 sensor_msgs/PointCloud2

- 启动盒子定位节点 Python

    > 获取kinect相机图像
    >
    > 检测不同区域的盒子
    >
    > 发布盒子信息

- 启动机械臂节点 C++

    > in接收盒子信息
    >
    > out控制机械臂移动到指定位置
    >
    > out控制夹爪进行抓取
    >
    > out通知已夹取完毕

